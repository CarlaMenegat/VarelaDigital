<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Varela Digital – Letters Viewer</title>

        <link
            href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
            rel="stylesheet"
        />
        <link rel="stylesheet" href="../css/styles.css" />
        <link rel="icon" type="image/x-icon" href="favicon.ico" />

        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
        <script src="../scripts/navbar.js"></script>
    </head>

    <body class="vd-viewer">
        <!-- Navbar -->
        <nav class="navbar navbar-expand-lg fixed-top vd-navbar">
            <div class="container-fluid">
                <a class="navbar-brand" href="../../index.html">Varela Digital</a>

                <button
                class="navbar-toggler"
                type="button"
                data-bs-toggle="collapse"
                data-bs-target="#navbarNav"
                aria-controls="navbarNav"
                aria-expanded="false"
                aria-label="Toggle navigation"
                >
                <span class="navbar-toggler-icon"></span>
                </button>

                <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item">
                    <a class="nav-link" href="../../index.html">Homepage</a>
                    </li>

                    <li class="nav-item dropdown">
                    <a
                        class="nav-link dropdown-toggle"
                        href="#"
                        id="collectionDropdown"
                        role="button"
                        data-bs-toggle="dropdown"
                    >
                        The Collection
                    </a>
                    <ul class="dropdown-menu">
                        <li><a class="dropdown-item" href="indexes.html">Browse</a></li>
                        <li>
                        <a class="dropdown-item" href="viewer.html?file=CV-1.xml">Viewer</a>
                        </li>
                    </ul>
                    </li>

                    <!-- Data Exploration -->
                    <li class="nav-item dropdown">
                    <a
                        class="nav-link dropdown-toggle active"
                        href="#"
                        id="explorationDropdown"
                        role="button"
                        data-bs-toggle="dropdown"
                    >
                        Data Exploration
                    </a>
                    <ul class="dropdown-menu">
                        <li><a class="dropdown-item" href="map.html">Map</a></li>
                        <li><a class="dropdown-item" href="network.html">Social Network</a></li>
                        <li><a class="dropdown-item" href="network_family.html">Family Network</a></li>
                        <li><a class="dropdown-item" href="network_orgs.html">Organizations</a></li>
                    </ul>
                    </li>

                    <li class="nav-item">
                    <a class="nav-link" href="historical_context.html">Historical Context</a>
                    </li>

                    <li class="nav-item dropdown">
                    <a
                        class="nav-link dropdown-toggle"
                        href="#"
                        id="docsDropdown"
                        role="button"
                        data-bs-toggle="dropdown"
                    >
                        Documentation
                    </a>
                    <ul class="dropdown-menu">
                        <li><a class="dropdown-item" href="project_discussion.html">Overview</a></li>
                        <li><a class="dropdown-item" href="knowledge_base.html">Knowledge Base</a></li>
                        <li><a class="dropdown-item" href="data_model.html">Data Model</a></li>
                    </ul>
                    </li>
                </ul>
                </div>
            </div>
        </nav>

        <!-- Letter navigation -->
        <div class="container mt-0 text-center">
            <div class="letter-nav d-inline-flex align-items-center gap-3">
                <button
                    id="btnPrev"
                    type="button"
                    class="btn btn-outline-secondary btn-sm"
                    data-nav="prev"
                >
                    &laquo; Previous
                </button>

                <div id="letter-info" class="fw-bold small px-2 text-center"></div>

                <button
                    id="btnNext"
                    type="button"
                    class="btn btn-outline-secondary btn-sm"
                    data-nav="next"
                >
                    Next &raquo;
                </button>
            </div>
        </div>

        <!-- MAIN LAYOUT -->
        <div class="main-content d-flex">

            <!-- CENTRAL CONTENT (transcription + annotations) -->
            <div class="content-wrapper d-flex flex-grow-1">

                <!-- TRANSCRIPTION COLUMN -->
                <div class="left-column d-flex flex-column">

                    <div class="transcription-box">

                        <!-- View mode tabs -->
                        <div class="transcription-tabs mb-2">
                            <button class="tab-button active" data-view="reading" type="button">
                                Reading
                            </button>

                            <button class="tab-button" data-view="translation" type="button">
                                Translation
                            </button>
                        </div>

                        <!-- Reading view -->
                        <div
                            id="transcription-reading"
                            class="transcription-layer px-2 py-1"
                            data-view="reading">
                        </div>

                        <!-- Translation view -->
                        <div
                            id="transcription-translation"
                            class="transcription-layer px-2 py-1 d-none"
                            data-view="translation">
                        </div>

                    </div>

                </div>

                <!-- ANNOTATIONS COLUMN -->
                <div class="annotations-column d-flex flex-column">

                    <div class="annotations-box" id="annotations-box">
                        <div class="d-flex justify-content-between align-items-center mb-2">
                            <h5 class="mb-0">Annotations</h5>
                            <button
                                id="close-annotations"
                                class="btn btn-sm btn-outline-secondary"
                                type="button"
                            >
                                ×
                            </button>
                        </div>

                        <div id="annotations-content"></div>
                    </div>

                </div>

            </div>

            <!-- METADATA SIDEBAR (RIGHTMOST) -->
            <aside id="metadataPanel" class="metadata-panel">
                <h3 class="metadata-title">Metadata</h3>

                <dl class="metadata-dl">
                    <dt>Title</dt> <dd id="mdTitle">—</dd>
                    <dt>From</dt>  <dd id="mdFrom">—</dd>
                    <dt>To</dt>    <dd id="mdTo">—</dd>
                    <dt>Place</dt> <dd id="mdPlace">—</dd>
                    <dt>Date</dt>  <dd id="mdDate">—</dd>
                    <dt>Type</dt>  <dd id="mdType">—</dd>
                </dl>

                <div class="metadata-actions">
                    <a id="dlXml" class="btn btn-sm btn-outline-primary w-100 mb-2" href="#" download>Download TEI XML</a>
                    <a id="dlJsonld" class="btn btn-sm btn-outline-primary w-100 mb-2" href="#" download>Download JSON-LD</a>
                    <a id="dlTtl" class="btn btn-sm btn-outline-primary w-100" href="#" download>Download TTL</a>
                </div>
            </aside>

        </div>

        <!-- Footer -->
        <footer class="vd-footer">
            <div class="footer-links">
                Developed by <strong>Carla Menegat</strong> |
                <a href="mailto:carla.menegat@studio.unibo.it">carla.menegat@studio.unibo.it</a> |
                <a href="https://github.com/CarlaMenegat" target="_blank" rel="noopener">GitHub</a> |
                Licensed under
                <a href="https://creativecommons.org/licenses/by/4.0/" target="_blank" rel="noopener">CC BY 4.0</a> |
            </div>

            <div class="footer-small">
                Final examination project for the
                <a
                    href="https://corsi.unibo.it/2cycle/DigitalHumanitiesKnowledge"
                    target="_blank"
                    rel="noopener"
                >
                    Master Degree in Digital Humanities and Digital Knowledge (DHDK)
                </a>
                , University of Bologna.
            </div>
        </footer>

        <!-- Viewer JS -->
        <script src="../scripts/viewer.js"></script>
    </body>
</html>